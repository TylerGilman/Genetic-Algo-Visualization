{# templates/simulation_content.html #}
<div>
<form id="simulation-form">
    <label for="population_size">Initial Population Size:</label>
    <input type="number" id="population_size" name="population_size" value="{{ params.population_size }}" min="1" max="100" /><br />

    <label for="mutation_rate">Mutation Rate:</label>
    <input type="number" id="mutation_rate" name="mutation_rate" step="0.01" value="{{ '%.2f'|format(params.mutation_rate) }}" min="0" max="1" /><br />

    <label for="crossover_rate">Crossover Rate:</label>
    <input type="number" id="crossover_rate" name="crossover_rate" step="0.01" value="{{ '%.2f'|format(params.crossover_rate) }}" min="0" max="1" /><br />

    <label for="food_availability">Food Generation Rate (items/second):</label>
    <input type="number" id="food_availability" name="food_availability" step="0.1" value="{{ '%.1f'|format(params.food_availability) }}" min="0.1" max="10" /><br />

    <label for="water_temperature">Water Temperature (Â°C):</label>
    <input type="number" id="water_temperature" name="water_temperature" step="0.1" value="{{ '%.1f'|format(params.water_temperature) }}" min="0" max="40" /><br />


    <div class="form-group">
        <label for="generation_length">Generation Length (seconds):</label>
        <input type="number" id="generation_length" name="generation_length" value="60" min="10" max="300">
    </div>

    <button type="button" id="start-simulation">Start Simulation</button>
</form>

<div id="simulation-controls">
    <label for="simulation-speed">Simulation Speed: <span id="speed-display">1.0x</span></label>
    <input type="range" id="simulation-speed" min="0" max="5" step="0.1" value="1">
</div>

<div id="stats"></div>
<div class="row">
    <div class="col-12">
        <h3>Neural Network Evolution</h3>
        <div class="chart-container" style="position: relative; height:300px;">
            <canvas id="neural-weights-chart"></canvas>
        </div>
        <div id="neural-stats" class="mt-3">
            <!-- Neural network stats will be inserted here -->
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-6 col-l-3">
        <p>Size</p>
        <div class="chart-container">
            <canvas id="sizeChart"></canvas>
        </div>
    </div>
    <div class="col-sm-6 col-l-3">
        <p>Speed</p>
        <div class="chart-container">
            <canvas id="speedChart"></canvas>
        </div>
    </div>
    <div class="col-sm-6 col-l-3">
        <p>Energy</p>
        <div class="chart-container">
            <canvas id="energyChart"></canvas>
        </div>
    </div>
    <div class="col-sm-6 col-l-3">
        <p>Metabolism</p>
        <div class="chart-container">
            <canvas id="metabolismChart"></canvas>
        </div>
    </div>
<style>
.overall-stats {
    display: flex;
    justify-content: space-around;
    margin: 10px 0;
    padding: 10px;
    background: rgba(0,0,0,0.05);
    border-radius: 4px;
}

.overall-stats div {
    padding: 0 10px;
    font-weight: bold;
}

.stats-table {
    width: 100%;
    margin-top: 15px;
    border-collapse: collapse;
}

.stats-table th, .stats-table td {
    padding: 8px;
    border: 1px solid #ddd;
    text-align: center;
}

.stats-table th {
    background-color: #f5f5f5;
}

.neural-stats-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 1rem;
}

.stats-section {
    border: 1px solid #ddd;
    padding: 1rem;
    border-radius: 4px;
}

.stats-section h4 {
    margin-bottom: 0.5rem;
    color: #333;
}

.stats-section p {
    margin: 0.25rem 0;
    font-family: monospace;
}

.chart-container {
    background: white;
    padding: 1rem;
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>
</div>

